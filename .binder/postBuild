#!/bin/bash
# BinderHub postBuild script - minimal setup for JupyterHub compatibility

echo "ðŸ”§ Setting up LDaCA BinderHub environment..."

# Create a simple welcome notebook
cat > ${HOME}/LDaCA_Welcome.ipynb << 'EOF'
{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Welcome to LDaCA on BinderHub! ðŸŽ‰\n",
    "\n",
    "This environment provides access to the **Language Data Commons of Australia (LDaCA)** libraries through Jupyter.\n",
    "\n",
    "## Available Tools\n",
    "\n",
    "- **docframe**: Data manipulation for linguistic corpora\n",
    "- **docworkspace**: Workspace management for language data\n",
    "- **LDaCA Web App**: Backend available at `/app`\n",
    "\n",
    "## Quick Start\n",
    "\n",
    "Try importing the LDaCA libraries:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Import LDaCA libraries\n",
    "import sys\n",
    "sys.path.append('/app')\n",
    "\n",
    "# Test imports\n",
    "try:\n",
    "    import docframe\n",
    "    print(\"âœ… docframe library loaded\")\n",
    "except ImportError as e:\n",
    "    print(f\"âŒ docframe import failed: {e}\")\n",
    "\n",
    "try:\n",
    "    import docworkspace\n",
    "    print(\"âœ… docworkspace library loaded\")\n",
    "except ImportError as e:\n",
    "    print(f\"âŒ docworkspace import failed: {e}\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Explore the Environment\n",
    "\n",
    "- Check `/app` directory for the full LDaCA application\n",
    "- Use the terminal to explore available tools\n",
    "- Create new notebooks to work with language data\n",
    "\n",
    "Happy coding! ðŸš€"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "name": "python",
   "version": "3.10.0"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
EOF

echo "âœ… LDaCA BinderHub environment ready!"
echo "ðŸ“‹ Welcome notebook created: LDaCA_Welcome.ipynb"
echo "ðŸ”— LDaCA libraries accessible via sys.path"
