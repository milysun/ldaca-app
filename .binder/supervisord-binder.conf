[supervisord]
nodaemon=true
user=jovyan
logfile=/tmp/supervisord.log
pidfile=/tmp/supervisord.pid
childlogdir=/tmp

[program:nginx]
command=sudo nginx -g "daemon off;"
autostart=true
autorestart=true
stderr_logfile=/tmp/nginx.err.log
stdout_logfile=/tmp/nginx.out.log
user=jovyan

[program:fastapi]
command=/bin/bash -c "cd /app/ldaca_web_app/backend && PYTHONPATH=/app /app/.venv/bin/uvicorn main:app --host 0.0.0.0 --port 8001 --workers 1"
directory=/app
autostart=true
autorestart=true
stderr_logfile=/tmp/fastapi.err.log
stdout_logfile=/tmp/fastapi.out.log
user=jovyan
priority=200
